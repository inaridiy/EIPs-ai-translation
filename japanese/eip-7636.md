---
original: c89b65cb14299166be870160243ffcd2e8626fcde1f7e73915cd40cb7dee5156
---

---
eip: 7636
title: EIP-778の"クライアント"ENRエントリーの拡張
description: クライアントの名称やバージョン番号などの情報を指定するための追加のENRエントリーを提案します。
author: James Kempton (@JKincorperated)
discussions-to: https://ethereum-magicians.org/t/eip7636-extension-of-eip-778-for-client-enr-entry/18935
status: Final
type: Standards Track
category: Networking
created: 2024-02-25
requires: 778
---

## 概要

Ethereumネットワークは、さまざまなクライアント実装を実行するノードで構成されています。各クライアントには独自の機能、最適化、および固有の動作があります。ENRにクライアントソフトウェアとそのバージョンを標準化された方法で識別することで、より効果的なネットワーク分析、互換性チェック、およびトラブルシューティングが可能になります。このEIPでは、ENRに"クライアント"フィールドを追加することを提案します。

## 動機

Ethereumネットワーク内のクライアントソフトウェアの状況を理解することは、開発者、ノード、およびネットワークの健全性評価にとって重要です。現在、ノードがソフトウェアの ID とバージョンを発表する標準化された方法がないため、互換性の問題や ネットワーク全体の問題の診断が困難になる可能性があります。これをENRに追加することで、クライアントはdiscv5を使ってネットワークの健全性を監査し、さまざまなサービスにおけるdiscv5の採用状況を追跡できるようになります。

## 仕様

この文書の中の "MUST"、"MUST NOT"、"REQUIRED"、"SHALL"、"SHALL NOT"、"SHOULD"、"SHOULD NOT"、"RECOMMENDED"、"NOT RECOMMENDED"、"MAY"、および "OPTIONAL" というキーワードは、RFC 2119およびRFC 8174に記載されているように解釈されるものとします。

"クライアント"エントリーは、[EIP-778](./eip-778.md)の仕様に従ってENRに追加されることが提案されています。このエントリーはOPTIONALであり、そのような情報を開示したくないクライアントは省略できます。このエントリーのキーは `"client"` です。

すべての要素は、[RFC 20](https://www.rfc-editor.org/rfc/rfc20)で説明されているASCII標準を使用して文字列としてエンコードされなければなりません。

このエントリーの値は、RLPリストでなければなりません:

```
[クライアント名, バージョン, (ビルドバージョン)]
```

- `クライアント名`: クライアントソフトウェアを識別する文字列。簡潔で、スペースのない、クライアントアプリケーションを代表するものであるべきです。
- `バージョン`: クライアントソフトウェアのバージョンを表す人間可読形式の文字列。セマンティックバージョニングに従うことが推奨されます。
- `ビルドバージョン`: クライアントソフトウェアのビルドまたはコミットバージョンを表す OPTIONAL な文字列。特定のビルドや開発バージョンを識別するのに使用できます。

## 根拠

多くのキーを使うのではなく、1つのキーを選択したのは、スペースの有効活用のためです。しかし、1つの文字列を使うのは、同様の目的を持つ他のEIPsとは一致しないため、RLPリストが最良のエンコーディングだと判断されました。

## 下位互換性

このEIPは完全に下位互換性があります。ENR仕様に新しいオプションのエントリーを追加するだけのものです。"クライアント"エントリーを認識しない既存の実装は、ENR処理やネットワークの動作に悪影響を及ぼすことなく、それを無視します。

## テストケース

Geth version 1.10.0をメインネットで実行しているノードのENR `client`エントリーは次のようになる可能性があります:

```
["Geth", "1.10.0"]
```

Nethermindの実験的なビルドを実行しているノードは次のようになる可能性があります:

```
["Nethermind", "1.9.53", "7fcb567"]
```

そして、ENRは次のようになります:

```
enr:-MO4QBn4OF-y-dqULg4WOIlc8gQAt-arldNFe0_YQ4HNX28jDtg41xjDyKfCXGfZaPN97I-MCfogeK91TyqmWTpb0_AChmNsaWVudNqKTmV0aGVybWluZIYxLjkuNTOHN2ZjYjU2N4JpZIJ2NIJpcIR_AAABg2lwNpAAAAAAAAAAAAAAAAAAAAABiXNlY3AyNTZrMaECn-TTdCwfZP4XgJyq8Lxoj-SgEoIFgDLVBEUqQk4HnAqDdWRwgiMshHVkcDaCIyw
```

これを解読すると、`seq`、`siqnature`、`id`、`secp256k1`などの通常のデータが得られます。さらに、クライアントの値 `["0x4e65746865726d696e64","0x312e392e3533","0x37666362353637"]` または `["Nethermind", "1.9.53", "7fcb567"]` が得られます。

## セキュリティ上の考慮事項

クライアントの識別情報を導入することで、既知の脆弱性のあるバージョンやビルドを標的にした攻撃が行われる可能性があります。このEIPを実装するクライアントは、ID とバージョンの開示に伴う影響を慎重に検討する必要があります。ユーザーやオペレーターは、この情報を任意でオプトアウトしたり匿名化したりできるようにする必要があります。

また、この情報は自己申告されたものであるため、信頼性を要求するものには ***絶対に*** 使用してはいけません。

## 著作権

著作権およびそれに関連する権利は[CC0](../LICENSE.md)で放棄されています。