---
original: caca2d81f6965dcdd606d1e15eb8b740e6865421844fedf6bc97f08eb12e759e
---

---
eip: 2474
title: Coinbaseコール
author: Ricardo Guilherme Schmidt (@3esmit)
discussions-to: https://ethresear.ch/t/gas-abstraction-non-signed-block-validator-only-procedures/4388/2
status: 停滞
type: Standards Track
category: Core
created: 2020-01-19
---

## 簡単な要約

`block.coinbase`(ブロックバリデータ)によって直接コントラクトを呼び出すことを可能にする。トランザクションは不要。

## 概要

_proof-of-workブロックチェーンでは、バリデータはマイナーと呼ばれる。_

バリデータは、トランザクションに署名することなく、直接関数を実行したい場合がある。例えば、バリデータにも利益がある変更に関する証拠をコントラクトに提示するなどが考えられる。

注目すべき例としては、バリデータが[EIP-1077](./eip-1077.md) Gas Relayerとして機能し、メタトランザクションの手数料を受け取りたい場合が挙げられる。
この変更がなければ、バリデータは`gasPrice = 0`のトランザクションに署名し、ガスリレーコールを行う必要がある。
しかし、`msg.sender`が使用されず、EVM(Ethereum仮想マシン)に対してガス代がかからないため、署名されたトランザクションは無駄となる。

この提案により、この不要なecrecoverを削除することができる。

## 動機

`msg.sender`を使用せず、`tx.gasPrice = 0`でバリデータによって呼び出されるコールの負荷を軽減するため。

## 仕様

`block.coinbase`によって実行されるコールは、ブロックの最初に含まれ、通常通りガスを消費するが、ガス代は支払われない。代わりに、コールのロジックがバリデータに別の形で支払う。

トランザクションなしでブロックのcoinbaseによって任意のコールを実行することができる。ただし、バリデータのコールが`msg.sender`を読もうとした場合、無効なジャンプが発生する。

バリデータによって含まれるコールでは、`tx.origin = block.coinbase`、`gas.price = 0`となり、それ以外は通常のコールと同様に処理される。

## 根拠

TBD

## 下位互換性

`tx.origin = block.coinbase`は、署名の検証などに`tx.origin`を使用する不適切に設計されたコントラクトで問題を引き起こす可能性がある。`tx.origin`の使用方法を分析し、この選択が適切かどうかを判断する必要がある。

## テストケース

TBD

## 実装

TBD

## セキュリティ上の考慮事項

TBD

## 著作権

[CC0](../LICENSE.md)によりすべての著作権およびそれに関連する権利が放棄されています。