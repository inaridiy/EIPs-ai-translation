---
original: 574cc98ddb22e5b84da47902005fce5353f6335be1444e2283c7aea15ba2fa72
---

---
eip: 7523
title: 空のアカウントの非推奨化
description: マージ後のネットワークで空のアカウントを禁止する
author: Peter Davies (@petertdavies)
discussions-to: https://ethereum-magicians.org/t/eip-7523-empty-accounts-deprecation/15870
status: 最終コール
last-call-deadline: 2024-03-26
type: 標準化トラック
category: コア
created: 2023-09-19
requires: 161
---

## 概要

このEIPは、マージ後のネットワークの状態に空のアカウントが含まれることを禁止します。テストスイート以外には空のアカウントが存在せず、新しいものも作成できないため、この要件は実際にはすでに達成されています。明示的な禁止により、今後の技術的負債を軽減できます。

## 動機

空のアカウントの可能性は、Ethereumの初期の歴史の遺産です。それらを含むことができるネットワークは、Ethereumメインネット、非推奨のテストネットRopsten、Ethereum Classic メインネット、およびさまざまなEthereum Classicテストネットのみです。メインネットの残りの空のアカウントはブロック `14049881` (トランザクション `0xf955834bfa097458a9cf6b719705a443d32e7f43f20b9b0294098c205b4bcc3d`) で削除され、Ethereum Classicでも同様のトランザクションが送信されました。その他のEVM互換ネットワークは十分に古くはなく、実稼働環境で空のアカウントに遭遇する可能性はありません。

空のアカウントが存在しなくなっても、まだ技術的負債の遺産が残っています。[EIP-161](./eip-161.md)は複雑な規則を課し、クライアントに「タッチ」された空のアカウントを削除する必要があります。Ethereumの仕様が進化するにつれ、「タッチ」ルールの新しいエッジケースが発生し、議論、実装、テスト、ドキュメント化する必要があります。マージ後のブロックのみをサポートする将来のクライアントは、テストスイートに合格するためだけに不要な空のアカウントサポートを実装しなければなりません。

このEIPは、マージ後のネットワークで空のアカウントを禁止することで、Ethereumおよび関連ブロックチェーンの設計者と実装者がそれらを考慮する必要がなくなります。

## 仕様

この文書の「MUST」、「MUST NOT」、「REQUIRED」、「SHALL」、「SHALL NOT」、「SHOULD」、「SHOULD NOT」、「RECOMMENDED」、「NOT RECOMMENDED」、「MAY」、「OPTIONAL」は、RFC 2119およびRFC 8174に記載されているように解釈されるものとします。

空のアカウントとは、**コードがなく**、**ノンスがゼロ**、**残高がゼロ**のアカウントです。これは[EIP-161](./eip-161.md)の定義と同じです。

マージ移行を経るネットワークでは、マージブロックの事前状態に空のアカウントが含まれてはいけません。ジェネシスでマージされたネットワークでは、ジェネシスアカウントに空のアカウントがあってはいけません。

状態のスキャンを行う代わりに、クライアントは以下のチェーンに空のポストマージアカウントがないと想定してよいものとします:

1. ハッシュ `0x56a9bb0302da44b8c0b3df540781424684c3af04d0b7a38d72842b762076a664` のマージブロックを持つメインネットチェーン。

2. 以下のすべての条件を満たすチェーン:

    - ジェネシスに空のアカウントがない。
    - ジェネシスでSpurious Dragon以降のフォークがある。

ポストマージの文脈で空のアカウントが存在する場合、Ethereumの仕様は定義されていないものとします。空のポストマージアカウントを含むテストケースは無効です。

## 根拠

このEIPは、空のアカウントが長期的に課す技術的負債を排除する最も単純な方法として起草されました。マージは明確に識別できる切り替え点として選択されました。

代替アプローチとしては以下のようなものがあります:

- ブロック `14049881` などの、より早い切り替え点の使用。
- 実際に発生しなかった、より広範なエッジケースの動作の特定。

これらのアプローチは不必要に複雑であるため、却下されました。

## 下位互換性

このEIPは、テストスイート以外で発生し得る動作を変更しないため、下位互換性の影響はありません。

## セキュリティ上の考慮事項

このEIPの妥当性は、Ethereumメインネットのすべての空のアカウントがマージ前に削除されたという主張に依存しています。これは適切な検証の対象となるべきです。

人為的に空のアカウントを持つネットワークを作成すると、ツールやクライアントに問題が発生する可能性があります。

## 著作権

著作権およびそれに関連する権利は[CC0](../LICENSE.md)で放棄されています。