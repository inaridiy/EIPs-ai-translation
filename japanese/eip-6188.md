---
original: 6115e37f92b7183136fcebe0931505b1ccedc6e08cd98e319c54686471db90fe
---

---
eip: 6188
title: ノンス上限
description: ノンスを2^64-2に制限する
author: Gavin John (@Pandapip1)
discussions-to: https://ethereum-magicians.org/t/eip-6190-functional-selfdestruct/12232
status: 停滞
type: Standards Track
category: Core
created: 2022-12-20
requires: 2929
---

## 概要

このEIPは、ノンスを`2^64-2`に制限し、他のEIPで定義された特殊な動作を持つコントラクトのために予約します。

## 動機

このEIPは単独では非常に有用ではありませんが、他のEIPで使用されることができます。

## 仕様

この文書の中の「MUST」、「MUST NOT」、「REQUIRED」、「SHALL」、「SHALL NOT」、「SHOULD」、「SHOULD NOT」、「RECOMMENDED」、「MAY」、「OPTIONAL」というキーワードは、RFC 2119およびRFC 8174に記載されているように解釈されるものとします。

### EOAトランザクション

EOAから発信されるトランザクションのノンスは`2^64-2`未満でなければなりません。ノンスが`2^64-1`または`2^64-2`の場合、そのトランザクションは無効とされなければなりません。

### `CREATE`および`CREATE2`

ノンスが`CREATE`または`CREATE2`によって`2^64-1`に増加する場合、代わりに`2^64-2`に設定されます。`2^64-1`はエイリアスやその他の特殊なコントラクト用に予約されています。

## 根拠

ノンスに上限を設けることで、コントラクトコードに基づいて機能する特殊なコントラクトを作成することができます。そのため、1つのノンスのみを予約する必要があります。

## 下位互換性

このEIPはコンセンサスルールを変更するため、プロトコルのアップグレードが必要です。ノンスの制限がさらに厳しくなっても、`2^64-2`までノンスを到達させるのは困難なため、アカウントに影響はないはずです。

## セキュリティ上の考慮事項

コントラクトアカウントがノンスの上限に到達するのは現実的ではないため、ノンスの値に依存するオペコードに関する潜在的な問題は無視して構いません。

## 著作権

著作権およびそれに関連する権利は[CC0](../LICENSE.md)によって放棄されています。