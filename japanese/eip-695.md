---
original: 3f83c61b2d20fe006fe35d8a58b5ea75c7e9e55de16b6fa819acd543f177efa4
---

---
eip: 695
title: JSON-RPCの`eth_chainId`メソッドの作成
author: Isaac Ardis <isaac.ardis@gmail.com>、Wei Tang (@sorpaas)、Fan Torchz (@tcz001)、Erik Marks (@rekmarks)
discussions-to: https://ethereum-magicians.org/t/eip-695-create-eth-chainid-method-for-json-rpc/1845
type: Standards Track
category: Interface
status: Final
created: 2017-08-21
requires: 155
---

## 簡単な要約

`eth_`名前空間のJSON-RPCメソッドに`eth_chainId`メソッドを含める。

## 概要

`eth_chainId`メソッドは、[EIP-155](./eip-155.md)で導入された、リプレイ保護付きトランザクションの署名に使用される現在の`CHAIN_ID`値を表す16進数の整数値を文字列形式で返す必要があります。

## 動機

現在、`net_version` RPCコールを使用して現在のネットワークIDを取得できますが、チェーンIDを照会するRPCはありません。これでは、RPCを使用して現在の実際のブロックチェーンを特定することができません。

## 仕様

### `eth_chainId`

[EIP-155](./eip-155.md)で導入されたリプレイ保護付きトランザクションの署名に使用される現在の設定されているチェーンIDを返します。

返されるチェーンIDは、常に現在の既知のヘッドブロックの情報に対応するものでなければなりません。これにより、このRPCメソッドを呼び出す側は、取得した情報を使ってヘッドに基づいて構築されたトランザクションに署名することができます。

現在の既知のヘッドブロックにチェーンIDが指定されていない場合、クライアントは`eth_chainId`への呼び出しをメソッドがサポートされていないかのように扱い、適切なエラーを返す必要があります。

#### パラメータ

なし。

#### 戻り値

`QUANTITY` - 現在のチェーンIDの整数値。

#### 例

```js
curl -X POST --data '{"jsonrpc":"2.0","method":"eth_chainId","params":[],"id":83}'

// 結果
{
  "id": 83,
  "jsonrpc": "2.0",
  "result": "0x3d" // 61
}
```

## 根拠

ETH/ETCクライアントは、トランザクションに署名しようとするか、チェーンIDで署名されたトランザクションを取得しない限り、ETC/ETHのRPCエンドポイントに誤って接続してしまう可能性があります。これは、MetaMaskなどのアプリケーション開発者にとって、マルチチェーンサポートを追加する際の問題となっています。

## 下位互換性

関係ありません。

## セキュリティ上の考慮事項

消費者は`net_version`ではなく`eth_chainId`を優先的に使用する必要があります。これにより、通信しているチェーンを確実に識別できます。

実装者は、[EIP-155](./eip-155.md)で説明されているリプレイ攻撃の防止に重要なチェーンIDを正しく実装し、その使用を促進する必要があります。消費者はこれを頼りにして、通信しているチェーンを識別します。

## 実装

- [Parity PR](https://github.com/paritytech/parity/pull/6329)
- [Geth PR](https://github.com/ethereum/go-ethereum/pull/17617)
- [Geth Classic PR](https://github.com/ethereumproject/go-ethereum/pull/336)

## 参考

戻り値の`QUANTITY`は、[Ethereum Wiki](https://github.com/ethereum/wiki/wiki/JSON-RPC#hex-value-encoding)に記載されているように、標準のJSON RPCの16進数値エンコーディングに準拠しています。

## 著作権

著作権およびその関連権利は[CC0](../LICENSE.md)で放棄されています。