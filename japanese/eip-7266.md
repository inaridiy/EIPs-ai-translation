---
original: 7e76e7d3c96550c4a2cba53454750550d40d251930f134499881eedfa8dfe4a4
---

---
eip: 7266
title: BLAKE2 圧縮プリコンパイルの削除
description: blake2f (0x09) プリコンパイルを削除し、プリコンパイルの動作を例外的な中止になるように変更する
author: Pascal Caversaccio (@pcaversaccio)
discussions-to: https://ethereum-magicians.org/t/discussion-removal-of-ripemd-160-and-blake2f-precompiles/14857
status: 停滞
type: Standards Track
category: Core
created: 2023-07-03
---

## 概要

この EIP は、プリコンパイルの動作を例外的な中止になるように変更することで、[`blake2f`](./eip-152.md) (`0x09`) プリコンパイルを削除します。

## 動機

[EIP-152](./eip-152.md) は、実際の使用例を活用したことがありません。これは、アドレス `0x09` が呼び出された回数から明らかです (この EIP が作成された日付からの数字):

- 最後の呼び出しは 2022 年 10 月 6 日に行われました。
- Istanbul ネットワークアップグレードの一部として 2019 年 12 月 7 日 (ブロック番号 9,069,000) に実装されて以来、`0x09` は 22,131 回しか呼び出されていません。

[EIP-152](./eip-152.md) が失敗した理由の 1 つは、組み込む前に想定されていた使用例が検証されていなかったことです。

## 仕様

この文書の「MUST」、「MUST NOT」、「REQUIRED」、「SHALL」、「SHALL NOT」、「SHOULD」、「SHOULD NOT」、「RECOMMENDED」、「NOT RECOMMENDED」、「MAY」、「OPTIONAL」というキーワードは、RFC 2119 およびRFC 8174 に記載されているように解釈されるものとします。

`CALL`、`CALLCODE`、`DELEGATECALL`、および `STATICCALL` の呼び出しで `blake2f` プリコンパイルアドレス `0x09` を呼び出すと、必ず例外的な中止になります。

## 根拠

EVM は単純性と将来性を最適化する必要があります。オリジナルの Yellow Paper は次のように述べています: _これらは「プリコンパイル」と呼ばれる契約で、後に本来のエクステンションになる可能性のある初期的なアーキテクチャ部分です_。過去 3.5 年間で使用例が実現されていないことを考えると、`blake2f` (`0x09`) プリコンパイルがネイティブオペコードに移行することはないと結論付けることができます。その意味で、`blake2f` (`0x09`) プリコンパイルは実際の利用実績のない時代遅れの付属物であり、削除されるべきです。この削除により、EVM は実際の使用例を持つ明確な命令のみで構成されるようになり、単純化されます。最終的に、`blake2f` (`0x09`) プリコンパイルは、EVM 機能の段階的な廃止と削除のテストとして安全に使用できます。

## 下位互換性

この EIP はコンセンサスルールを変更するため、ハードフォークが必要です。ただし、この変更の影響を受けるアプリケーションはごくわずかであり、6〜12 か月の移行期間で十分と考えられます。

## セキュリティ上の考慮事項

この変更によって導入される追加のセキュリティ上の問題は知られていません。

## 著作権

[CC0](../LICENSE.md) によりすべての著作権およびそれに関連する権利が放棄されています。