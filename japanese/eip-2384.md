---
original: 480b17bf76ea606fd8935c7720377d3178fc4a55805a38f95abc07c541921c3d
---

---
eip: 2384
title: Muir Glacier Difficulty Bomb Delay
author: Eric Conner (@econoar)
discussions-to: https://ethereum-magicians.org/t/eip-2384-difficulty-bomb-delay
type: Standards Track
category: Core
status: Final
created: 2019-11-20
---

## 簡単な要約
ディフィカルティ・ボム（"_氷河期_"とも呼ばれる）により、平均ブロック時間が増加し、徐々に加速しています。このEIPは、ディフィカルティ・ボムを4,000,000ブロック（約611日）延期することを提案します。

## 概要
`MUIR_GLACIER_FORK_BLKNUM`から始まり、クライアントはHomestead フォークから9,000,000ブロック遅れ、Byzantium フォークから7,000,000ブロック遅れ、Constantinople フォークから4,000,000ブロック遅れたブロック番号を示す偽のブロック番号に基づいてディフィカルティを計算します。

## 動機
ディフィカルティ・ボムは2019年10月5日のブロック8,600,000で再び目立つようになりました。平均ブロック時間は13.1秒前後になり、ブロック8,900,000時点では14.3秒前後になっています。これは100,000ブロックごとに指数関数的に加速し始めます。ディフィカルティ・ボムの影響を見積もると、2019年12月末には20秒のブロック時間、2020年2月以降は30秒以上のブロック時間になると予想されます。これによりチェーンが肥大化し、使用コストが高くなります。Eth2の最終確定機構の予想リリース時期までディフィカルティ・ボムを延期するのが最善です。

## 仕様
#### 偽のブロック番号を使ってディフィカルティを緩和する
`calc_difficulty`の目的で、指数関数的な氷河期コンポーネントで使用される`block.number`を以下の式に置き換えます:

    fake_block_number = max(0, block.number - 9_000_000) if block.number >= MUIR_GLACIER_FORK_BLKNUM else block.number

## 根拠
これにより氷河期は52,000,000秒（約611日）延期されるため、チェーンは2021年7月頃に再び20秒のブロック時間になると予想されます。重要なのは、このEIPがアクティブ化されるフォークの時期ではなく、約ブロック8,800,000から4,000,000ブロック遅れることです。

## 下位互換性
このEIPは前方互換性がなく、ディフィカルティ計算に下位互換性の問題を引き起こします。したがって、特定のブロック番号でスケジュールされたハードフォークに含める必要があります。Istanbul フォークの直後にこのEIPを含めることが提案されています。

## テストケース
仕様が開発者に受け入れられるか、クライアントによって実装される場合、テストケースを作成する必要があります。

## 実装
論理的には[EIP-649](./eip-649.md)や[EIP-1234](./eip-1234.md)と変わりません。Parity-Ethereumの実装は[parity-ethereum#9187](https://github.com/paritytech/parity-ethereum/pull/9187)で利用可能です。

## 著作権
著作権およびそれに関連する権利は[CC0](../LICENSE.md)によって放棄されています。