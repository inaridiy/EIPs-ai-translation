---
original: 847b26f83a96c960ce25b5b335bf2efcc363c328e3595ea4ab814a5584d0b45c
---

---
eip: 7639
title: PoS 前のブロック履歴の提供を停止する
description: 実行レイヤークライアントは、Paris アップグレード以降、p2p 経由でブロックデータを提供しなくなります。
author: lightclient (@lightclient)
discussions-to: https://ethereum-magicians.org/t/cease-serving-history-before-pos/18991
status: Draft
type: Standards Track
category: Networking
created: 2024-02-13
---

## 概要

実行レイヤークライアントは、Paris アップグレード以前のブロックデータに関する p2p クエリを要求または応答しなくなります。

## 動機

2024 年時点で、クライアントが保持するヒストリカルデータは約 500 GB に達しています。そのうち約 400 GB がParisアップグレードでPoSが有効化される前のブロックデータです。長期的に、Ethereumはノードが保持しなければならないデータ量を制限する計画です。このEIPは、そのような目標を達成するための最初の一歩を提案するものです。

## 仕様

クライアントは、ブロック15537393以前のブロックに関するp2pクエリを行ったり、それに応答したりしてはいけません。

## 根拠

### PoS 以前のデータのみ

なぜPoS以前とPoS以降のデータを区別しているのかと尋ねられるかもしれません。その答えは単純で、マージの時点でブロック構造が大幅に変更されたためです。現在の実行レイヤークライアントソフトウェアは、ディスク上のブロックデータを引き続き使用しており、それはPoS以前のデータと似ていますが、ビーコンチェーンが新しい正規のチェーン定義となっています。したがって、ビーコンブロックを使って実行レイヤーとビーコンレイヤーの両方の履歴データを記録できるようになります。

長期的には、「実行レイヤー」と「コンセンサスレイヤー」の区別があまり重要でなくなるかもしれません。このEIPはクライアントアーキテクチャに依存せず、データの形状に焦点を当てています。

## 下位互換性

このEIPが有効化された後、ノードはdevp2pネットワークから完全にシンクすることはできなくなります。そのためには、データを別の方法で取得する必要があります。

## セキュリティ上の考慮事項

TODO

## 著作権

[CC0](../LICENSE.md)によりすべての著作権およびそれに関連する権利が放棄されています。