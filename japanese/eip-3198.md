---
original: 7cb24d49e35a2c2fd7a8cc1fae9df390cf6ff62dbe7410a044c9db34568524cc
---

---
eip: 3198
title: BASEFEE オペコード
author: Abdelhamid Bakhta (@abdelhamidbakhta), Vitalik Buterin (@vbuterin)
discussions-to: https://ethereum-magicians.org/t/eip-3198-basefeeopcode/5162
status: 最終版
type: Standards Track
category: Core
created: 2021-01-13
requires: 1559
---

## 簡単な要約
ベースフィーにアクセスするためのオペコードを追加します。

## 概要

`BASEFEE (0x48)` オペコードを追加し、現在実行中のブロックのベースフィーの値を返します。

## 動機
このオペコードの主な用途は、コントラクトがベースフィーの値を取得することです。この機能により、以下のようなユースケースが実現または改善されます:
- 誰かがトランザクションを送信するよう「ポーク」するためのバウンティを設定するコントラクトは、バウンティを `BASEFEE + x` や `BASEFEE * (1 + x)` に設定できるようになります。これにより、市場状況に関わらず常に「十分な」金額を支払うことができます。
- ガス先物取引を実装できるようになります。これはガストークンよりも正確です。
- ステートチャンネル、Plasma、Optirollsなどのフロード証明ベースのソリューションのセキュリティを向上させることができます。`BASEFEE`を入力として使うことで、`BASEFEE`が高い場合に自動的にチャレンジ期間を延長できます。

## 仕様
`(0x48)` に `BASEFEE` オペコードを追加し、ガスコストを `G_base` とします。

|  Op  	| Input 	| Output 	| Cost 	|
|:----:	|:-----:	|:------:	|:----:	|
| 0x48 	|   0   	|    1   	|   2  	|

## 根拠

### ガスコスト
ベースフィーの値はトランザクション処理に必要なため、EVM コードを実行する前に利用可能です。
このオペコードは複雑性や追加の読み書き操作を追加しないため、`G_base` ガスコストを選択しました。

## 下位互換性
このオペコードに関する既知の下位互換性の問題はありません。

## テストケース

### 標準ケース
現在のブロックのベースフィーが `7 wei` であると仮定します。
これにより、値 `7` (左パディングされたbyte32) がスタックにプッシュされるはずです。

バイトコード: `0x4800` (`BASEFEE, STOP`)

|  Pc   |      Op     | Cost |   Stack   |   RStack  |
|-------|-------------|------|-----------|-----------|
|    0  |    BASEFEE  |    2 |        [] |        [] |
|    1  |    STOP     |    0 |       [7] |        [] |

Output: 0x
Consumed gas: `2`

## セキュリティ上の考慮事項
ベースフィーの値は機密情報ではなく、ブロックヘッダーで公開されています。このオペコードに関する既知のセキュリティ上の問題はありません。

## 著作権
[CC0](../LICENSE.md)によりコピーライトおよび関連権利が放棄されています。