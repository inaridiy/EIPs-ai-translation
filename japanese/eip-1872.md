---
original: 763ed8fc4ec239d7147fe9f43bd9d13ab0b57b6510ed590d46839d13fcf69748
---

---
eip: 1872
title: Ethereum ネットワークアップグレードウィンドウ
author: Danno Ferrin (@shemnon)
discussions-to: https://ethereum-magicians.org/t/eip-1872-ethereum-network-upgrade-windows/2993
status: 停滞
type: Meta
created: 2018-03-25
---

## 簡単な要約

ネットワークアップグレード(ハードフォークとも呼ばれる)を行う年間の限定された時間枠を定義する提案です。この時間枠外でのネットワークアップグレードのスケジューリングポリシーも説明されています。

## 概要

ネットワークアップグレードを行うための4つの異なる週が、年間を通して均等に設定されています。定期的なネットワークアップグレードは、プロセスの早期にその特定のウィンドウでの実施を発表し、そのウィンドウの4〜6週間前のブロック番号を選択する必要があります。ネットワークアップグレードがキャンセルされた場合は、次のウィンドウに再スケジュールされます。すべてのウィンドウが使用されるわけではありません。ロードマップ外の優先アップグレードは、任意の月の第3週に予定できますが、そのような使用は控えめにすることが推奨されています。緊急のアップグレードは必要に応じてスケジュールされます。

## 動機

この EIP の目的は、Ethereum ネットワークアップグレード/ハードフォークプロセスに一定の規則性と予測可能性を提供することです。これにより、取引所やノードオペレーターなようなサービスプロバイダーが、アクティビティのスケジューリングを行う際の予測可能な枠組みが得られます。また、ネットワークアップグレードの提供を定期化するための枠組みも提供されます。

## 仕様

ネットワークアップグレードは3つのカテゴリーでスケジューリングされます。最初は、プロトコルの改善を目的とした `ロードマップ` ネットワークアップグレードです。次に、プロトコルの変更が迅速に必要とされるが、プロトコルやエコシステムに根本的なリスクをもたらさない `優先` ネットワークアップデートがあります。最後に、プロトコルやエコシステムに根本的なリスクをもたらす問題に対処するための `緊急` ネットワークアップグレードがあります。

### ロードマップネットワークアップグレード

ロードマップネットワークアップグレードは、プロトコルとエコシステムを改善するための、慎重に行われるネットワークアップグレードです。過去の例としては、Homestead、Byzantium、Constantinopleなどがあげられます。

ロードマップネットワークアップグレードは、1月、4月、7月、10月の第3水曜日の週のいずれかにスケジュールされるべきです。ネットワークアップグレードの開始時または計画プロセスの早期に、特定のウィンドウをターゲットにする必要があります。

> **レビュアーへの注記:** 選択された月と週は、初期の提案であり、最終決定前に簡単に変更できます。多くの第3四半期および第4四半期の祝日を避けるように設定されています。

実装者は、アップグレードの2〜4週間前にソフトウェアを用意する必要があります。したがって、ネットワークアップグレードのブロック番号は、アップグレードウィンドウの4〜6週間前に選択する必要があります。テストネットの展開の前後にこの選択を行うかどうかなどの詳細は、このEIPの範囲外です。

ロードマップネットワークアップグレードのリリースサイクルによっては、一部のウィンドウが使用されないこともあります。たとえば、6か月のリリースサイクルを選択した場合、隣接するアップグレードウィンドウでネットワークアップグレードは行われません。したがって、6か月のサイクルの場合、4月にロードマップアップグレードが行われた場合、7月のウィンドウは使用されません。

計画されたロードマップアップグレードを再スケジュールする必要がある場合は、3か月後の次のウィンドウに再スケジュールすることを強く検討する必要があります。6か月のサイクルの場合、これにより、隣接するリリースウィンドウでリリースが行われる可能性があります。3か月のサイクルの場合、現在のアップグレードに次のアップグレードが統合されるか、次のアップグレードが遅延する可能性があります。

スケジュールされたリリースウィンドウと互換性を持つためには、ロードマップネットワークアップグレードのサイクルは3か月の倍数である必要があります。3か月、6か月、9か月、またはそれ以上のサイクルかどうかは、このEIPの範囲外です。

### 優先ネットワークアップグレード

優先ネットワークアップグレードは、ロードマップネットワークアップグレードよりも緊急性が高いが、ネットワークやエコシステムに根本的なリスクをもたらさない、アップグレードのために予約されています。これまでに優先アップグレードの例はありません。可能な例としては、複数のアップグレードに分割する必要があるロードマップアップグレードや、既存の緩和策があるセキュリティリスクに対するアップグレードなどが考えられます。また、延期されたロードマップアップグレードによる難易度爆弾を解除するためのアップグレードも考えられます。

優先ネットワークアップグレードは、未使用のロードマップ起動ウィンドウ、つまり1月、4月、7月、10月の第3週に最適に起動されます。必要な場合は、任意の月の第3週に起動することもできますが、未使用のロードマップ起動ウィンドウを強く検討し、優先的に使用する必要があります。

優先ネットワークアップグレードは、主要なクライアント実装者が適時にソフトウェアをリリースできるよう、起動ウィンドウの2〜4週間前に発表し、ブロック番号を選択する必要があります。これらのリリースは、起動ウィンドウの1週間前までに行われる必要があります。

### 緊急ネットワークアップグレード

緊急ネットワークアップグレードは、プロトコルやエコシステムに根本的なリスクをもたらす問題に対処するために設計されたネットワークアップグレードです。過去の例としては、Dao Fork、Tangerine Whistle、Spurious Dragonなどがあげられます。

このEIPでは、これらの緊急ハードフォークの開発と展開に関するガイダンスや制限は提供していません。これらのアップグレードは、クライアント実装者間で根本的なリスクに対する解決策が合意された後、迅速に起動されます。

このような緊急アップグレードでは、問題の解決に必要な最小限の変更のみを行い、その他の変更は後続の優先およびロードマップネットワークアップグレードに統合することが推奨されます。

### ネットワークアップグレードのブロック番号の選択

アクティベーションブロック番号を選択する際、その番号を使って Ethereum エコシステムにおける特定のネットワークの役割を伝えることができます。価値の保管や本番環境向けとして機能するネットワークは、技術デモンストレーションや明示的にテスト用に指定されたネットワークとは異なる安定性の懸念があります。

これまで、メインネットのアクティベーションブロック番号はすべて3桁以上の0で終わっていました。これには緊急ネットワークアップグレードも含まれています。RopstenとKovanは当初3桁の0から始まりましたが、回文数に切り替えました。Rinkebyは常に回文のアクティベーションブロック番号を使用しています。Goerliはまだネットワークアップグレードを行っていません。

この傾向を続けるため、メインネットの展開や本番環境向けのネットワークのネットワークアップグレードアクティベーションブロック番号は、10進数表記が3桁以上の0で終わるように選択する必要があります。

テストネットや開発/テスト用のグレードのネットワークオペレーターは、10進数表記が回文になるブロックアクティベーション番号を選択することが推奨されます。

ロードマップおよび優先ネットワークアップグレードのブロック番号は、起動ウィンドウ中の水曜日午前12時(UTC+0)付近に予測されるように選択する必要があります。これにより、実際のブロック生成は、選択された週の月曜日から金曜日の間に行われることになります。

## 根拠

起動ウィンドウを定義する根拠は、Ethereum インフラを運用するビジネスに、アップグレードが行われる可能性のある予測可能なスケジュールを提供することです。アップグレードが行われない時期を明確に知ることで、外部の変更から自由に内部アップグレードを行うことができます。また、開発者やIT専門家がタイムオフをスケジュールする際のタイムテーブルも提供されます。

## 下位互換性

特定の起動ウィンドウを除いて、以前のネットワークアップグレードはこれらのポリシーに準拠していたはずです。Homestead、Byzantium、Constantinopleは、ロードマップネットワークアップグレードになっていたでしょう。優先ネットワークアップグレードの例はありませんでしたが、Spurious Dragonがその候補になっていたかもしれません。Dao Forkは TheDao への対応としての緊急ネットワークアップグレードでした。Tangerine Whistle とSpurious Dragonは、上海スパム攻撃への対応としての緊急アップグレードでした。Constantinople Fix (リファレンステストで呼ばれているように)は、EIP-1283のセキュリティ問題への対応でした。

この方針がConstantinopleの前から適用されていた場合、2018年の初期の起動は、Ropstenのテストネットコンセンサスの失敗により、次のウィンドウに延期されていたと考えられます。EIP-1283の問題は、難易度爆弾の影響により、ウィンドウ外のアップグレードになっていたと考えられます。

<!-- ## テストケース -->
<!-- このEIPに関連するテストケースはありません -->

## 実装

このEIPのウィンドウは、次のプランドのロードマップアップグレードであるIstanbulの後に開始されることが期待されています。Istanbulは現在2019年10月16日にメインネットでの起動が予定されており、このEIPのスケジュールと互換性があります。

Istanbulの後のロードマップアップグレードウィンドウは以下のようになります:

| ブロック目標 | 起動週の範囲            |
| ------------ | ---------------------- |
| 2019-10-16   | 2019-10-14 to 2019-10-18 |
| 2020-01-15   | 2020-01-13 to 2020-01-17 |
| 2020-04-15   | 2020-04-13 to 2020-04-17 |
| 2020-07-15   | 2020-07-13 to 2020-07-17 |
| 2020-10-21   | 2020-10-19 to 2020-10-23 |
| 2021-01-20   | 2021-01-18 to 2021-01-22 |
| 2021-04-21   | 2021-04-19 to 2021-04-23 |
| 2021-07-21   | 2021-07-19 to 2021-07-23 |
| 2021-10-20   | 2021-10-18 to 2021-10-22 |
| 2022-01-19   | 2022-01-17 to 2022-01-21 |
| 2022-04-20   | 2022-04-18 to 2022-04-22 |
| 2022-07-20   | 2022-07-18 to 2022-07-22 |
| 2022-10-19   | 2022-10-17 to 2022-10-21 |

ロードマップウィンドウを除く、来年までの優先ウィンドウは以下のとおりです:

| ブロック目標 | 起動週の範囲            |
| ------------ | ---------------------- |
| 2019-11-20   | 2019-11-18 to 2019-11-22 |
| 2019-12-18   | 2019-12-16 to 2019-12-20 |
| 2020-02-19   | 2020-02-17 to 2020-02-21 |
| 2020-03-18   | 2020-03-16 to 2020-03-20 |
| 2
020-05-20   | 2020-05-18 to 2020-05-22 |
| 2020-06-17   | 2020-06-15 to 2020-06-19 |
| 2020-08-19   | 2020-08-18 to 2020-08-21 |
| 2020-09-16   | 2020-09-14 to 2020-09-18 |
| 2020-11-18   | 2020-11-16 to 2020-11-20 |
| 2020-12-16   | 2020-12-14 to 2020-12-18 |

## 著作権

著作権およびそれに関連する権利は[CC0](../LICENSE.md)により放棄されています。