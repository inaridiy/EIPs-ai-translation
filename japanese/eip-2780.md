---
original: 0db3e31ff4e013f05585fd9be53e7c6c87988bc09fe186046a293944e45436ca
---

---
eip: 2780
title: トランザクションの固有ガスを削減する
author: Matt Garnett (@lightclient), Uri Klarman (@uriklarman)
discussions-to: https://ethereum-magicians.org/t/eip-2780-reduce-intrinsic-cost-of-transactions/4413
status: 取り下げられた
type: Standards Track
category: Core
created: 2020-07-11
---

## 概要
トランザクションの固有コストを `21,000` ガスから `7,000` ガスに削減する。

## 動機
現在の `21,000` ガスのトランザクション固有コストにより、ETHの送金が非常に高コストになり、少額(数十ドル)の送金が事実上不可能になっている。
EIP-1559などの他のEIPで検討されているガス価格と第一価格オークションの広範な変更に加えて、
ETHの送金コストを大幅に削減し、そのようなトランザクションの量を増やすことは、安全な方法で行えば、
以下に概説するような悪影響を与えずに、プラスの効果をもたらすはずである。

## 仕様
`block.number >= FORK_BLOCK` 以降、固有ガスコストを `7,000` に設定する。

## 根拠

DeFiスマートコントラクトへの呼び出しが急増したことにより、トランザクションのコストが大幅に上昇した。
このような呼び出しは通常、時間的に重要であり、大額の資金が関係するためである。
チェーンの容量を最も価値の高いトランザクションが利用することは設計上の目的であるが、
トランザクションの高コストがEthereumの用途を制限し、ユーザーエクスペリエンスを悪化させ、
ETHによって実際に生み出される(そして獲得される)価値を減少させ、
ユーザーを他の混雑の少ないチェーンに押し出している。

レイヤー2に関する注記: 高コストがユーザーをL2ソリューションの利用に駆り立てるのは事実だが、
L1の使用体験を悪化させることでL2の利用を強制するのは失敗する戦略である(BTC/Lightningを参照)。
多くのL2ソリューションの安全性は、必要に応じてL1を利用できることに依存している。
L2が大きな注目を集めるためには、人為的な制限を課すのではなく、最終確定性、コスト、ユーザーエクスペリエンスなどの優れた特性を提供することで実現する必要がある。

トランザクションの固有コストを `21,000` ガスから `7,000` ガスに削減すれば、トランザクションが安価になり、
簡単に実現でき、技術的負債を負わない。
ただし、以下のような悪影響がないことが確認された場合にのみ、この変更を行うべきである:

* アンクルレートの上昇
* Ethereumの状態サイズの成長ペースの加速
* ガス操作技術(ガストークン)の強化

## 下位互換性
このEIPは下位互換性があり、他のEIPで追求されているアプローチとも互換性がある。

## テストケース
トランザクションの固有コストを削減することの利点は明らかであるが、
そのような変更は悪影響がない、または無視できる程度の影響しかない場合にのみ適用すべきである。

#### アンクルレートの上昇
過去、トランザクション数の多い期間はアンクルブロックの割合が平均より高くなる傾向にあった。
新しい固有コスト `7,000` がアンクルレートに悪影響を及ぼさないことを確認する必要がある。

この変更を適用したテストネットを展開し、アンクルレートへの影響を検証する必要がある。
詳細は後日検討する。

## 実装
TBD

## セキュリティ上の考慮事項

#### 状態サイズの成長の加速
Ethereumの状態サイズの成長は、コミュニティの中で継続的な懸念事項となっている。
しかし、Ethereumアカウントの分析では、それらが状態サイズに与える影響は微小であることがわかっている。

2020年上半期を見ると、Ethereumチェーン上のアカウント数は84,127,955から103,485,373に増加した - 19,357,418の増加である。
新しいアカウントの *作成* は状態に20バイトを追加するが、これらの新しいアカウントによって状態に追加された容量は約369MBにすぎない。
同時に、チェーンは117GBから147GBに成長した - 30GBの増加である。
新しいアカウントの作成は、チェーンの成長のわずか1.2%しか占めていない。

トランザクションの固有コストを `21,000` ガスから `7,000` ガスに削減すると、新しいアカウントの作成が3倍に増加するという非常に過激な仮定を置いても、
この変更が2020年1月1日に実施されていた場合、状態サイズは現在よりわずか0.49%大きくなっただけである。

状態サイズの問題は依然として解決すべき課題であるが、トランザクションの固有コストを削減することは、状態サイズの成長率にほとんど影響を与えず、
チェーンの利用性を大幅に改善する。

#### ガス操作(ガストークン)の強化
ガストークン(https://gastoken.io/)は、Ethereumスマートコントラクトで、ストレージ払い戻しメカニズムを利用して、
低ガス価格でデータ(バージョン1)や新しいアカウント(バージョン2)を保存し、後のトランザクションで高ガス価格で解放(バージョン1)または自己破壊(バージョン2)することで、ガス代を節約するものである。
この仕組みは、高ガス価格でトークンを償還する際の価格が、低ガス価格でトークンを作成する際の価格の2倍以上の場合にのみ経済的に成り立つ。
ガストークンは実際には状態サイズを長期的に増加させるわけではなく、ガスの節約効果を得るためにそれらが保存したデータを解放するからである。
ただし、ガス価格オークションを操作することはできる。

トランザクションの固有コストを `21,000` ガスから `7,000` ガスに削減すると、ガストークンの節約効果が高まるのではないかという懸念があったが、
これは当たらない。
スマートコントラクトを使用するためのオーバーヘッドがあるため、単一のガストークンの作成と解放は経済的ではないが、
作成および解放するトークンの数が増えるほど、このオーバーヘッドの影響は小さくなる。
これが、トランザクションの固有コストにほとんど影響されない理由でもある - ガストークンは、トランザクションコストを多数のトークンに分散させるように設計されているからである。

ガストークンの作成者は、非常に多数のトークンを作成する場合の最大の潜在的な節約効果を示しているが(バージョン1で最大2.97倍、バージョン2で最大3.49倍)、
これらの数値は *提案された変更の影響を受けない*。
100個のガストークンを作成するより現実的なシナリオでは、提案された変更による節約効果の増加は微小であり、
200個のトークンを作成する場合の増加よりも小さい。
以下の表は、この提案が節約効果の乗数に与える影響を示している。

| バージョン | free_gas_price / mint_gas_price | 旧節約効果の乗数 | 新節約効果の乗数 | 200トークンの節約効果の乗数 |
|---|---|---|---|---|
| V.1 | 10 | 2.075 | 2.077 | 2.1 |
| V.1 | 100 | 2.780 | 2.781 | 2.819 |
| V.2 | 10 | 2.243 | 2.275 | 2.261 |
| V.2 | 100 | 3.251 | 3.315 | 3.316 |

## 著作権
[CC0](../LICENSE.md)によりすべての著作権およびそれに関連する権利が放棄されています。