---
original: 781c6a434f40b592fdc4f8b61750003be84ac344288a119f8f19f361fc44f67f
---

---
eip: 3046
title: `eth_getUncleByBlockNumberAndIndex`にベースフィーを追加する
author: Abdelhamid Bakhta (@abdelhamidbakhta)
discussions-to: https://ethereum-magicians.org/t/add-basefee-to-eth-getunclebyblocknumberandindex/4830
status: 停滞
type: Standards Track
category: Interface
created: 2020-10-14
requires: 1474, 1559
---

## 簡単な要約
`eth_getUncleByBlockNumberAndIndex` RPC エンドポイントの応答にベースフィーのフィールドを追加する。

## 概要
[EIP-1559](./eip-1559.md)で導入されたプロトコルのガスあたりのベースフィーの値を、`eth_getUncleByBlockNumberAndIndex` JSON-RPC リクエストの `result` オブジェクトに `baseFee` プロパティとして追加する。このプロパティには、EIP-1559フォーク以降のブロックのベースフィーの値が含まれる。

## 動機
[EIP-1559](./eip-1559.md)では、プロトコルにガスあたりのベースフィーが導入された。このベースフィーの値は、ブロックヘッダ構造の新しいフィールドとしてコンセンサスの下で維持されている。ユーザーは特定のブロックのベースフィーの値を必要とする可能性がある。ベースフィーの値は、ガス代の予測をより正確にするために重要である。

## 仕様

### `eth_getUncleByBlockNumberAndIndex`

#### 説明

ブロック番号とおじいさんのインデックス位置で指定されたおじいさんに関する情報を返す。
このエンドポイントから返されるすべてのブロックのブロック番号が[EIP-1559](./eip-1559.md)フォークブロック以前の場合、`baseFee`フィールドを含んではいけない。
このエンドポイントから返されるすべてのブロックのブロック番号が[EIP-1559](./eip-1559.md)フォークブロック以降の場合、`baseFee`フィールドを含まなければならない。

#### パラメータ

パラメータは変更されていない。

#### 返り値
`eth_getUncleByBlockNumberAndIndex`の完全な仕様については、[EIP-1474](./eip-1474.md)を参照してください。
ベースフィーを含むブロックヘッダ(EIP-1559フォーク以降のブロック)の `result` オブジェクトに新しいJSONフィールドを追加する。

- {[`Quantity`](./eip-1474.md#quantity)} `baseFee` - このブロックのベースフィー

#### 例

```sh
# リクエスト
curl -X POST --data '{
    "id": 1559,
    "jsonrpc": "2.0",
    "method": "eth_getUncleByBlockNumberAndIndex",
    "params":["latest", "0x0"]
}' <url>

# レスポンス
{
    "id": 1559,
    "jsonrpc": "2.0",
    "result": {
        "difficulty": "0x027f07",
        "extraData": "0x0000000000000000000000000000000000000000000000000000000000000000",
        "baseFee": "0x7"
        "gasLimit": "0x9f759",
        "gasUsed": "0x9f759",
        "hash": "0xe670ec64341771606e55d6b4ca35a1a6b75ee3d5145a99d05921026d1527331",
        "logsBloom": "0xe670ec64341771606e55d6b4ca35a1a6b75ee3d5145a99d05921026d1527331",
        "miner": "0x4e65fda2159562a496f9f3522f89122a3088497a",
        "nonce": "0xe04d296d2460cfb8472af2c5fd05b5a214109c25688d3704aed5484f9a7792f2",
        "number": "0x1b4",
        "parentHash": "0x9646252be9520f6e71339a8df9c55e4d7619deeb018d2a3f2d21fc165dde5eb5",
        "sha3Uncles": "0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",
        "size":  "0x027f07",
        "stateRoot": "0xd5855eb08b3387c0af375e9cdb6acfc05eb8f519e419b874b6ff2ffda7ed1dff",
        "timestamp": "0x54e34e8e"
        "totalDifficulty":  "0x027f07",
        "transactions": []
        "transactionsRoot": "0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",
        "uncles": []
    }
}
```

## 根拠
新しいエンドポイントを導入するのではなく、単一のパラメータを追加するのが、最も簡単で統合しやすい変更だと判断した。
下位互換性のために、EIP-1559以前のブロックではベースフィーをレスポンスに含めないことにした。

## 下位互換性
下位互換性がある。[EIP-1559](./eip-1559.md)フォークブロック以前のブロックに関する呼び出しでは、レスポンスにベースフィーのフィールドは含まれない。

## セキュリティ上の考慮事項
追加されたフィールド(`baseFee`)は情報提供のみであり、技術的なセキュリティ上の問題は生じない。

## 著作権
著作権およびその関連権利は[CC0](../LICENSE.md)で放棄されています。