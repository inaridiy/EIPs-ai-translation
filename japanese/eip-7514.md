---
original: 142c667da8a7137d663bfa086fa11e32ed1c87b1cd956a15f2191650238baf6a
---

---
eip: 7514
title: 最大エポックチャーン制限の追加
description: チャーン制限関数を上限値で制限するよう変更する
author: dapplion (@dapplion), Tim Beiko (@timbeiko)
discussions-to: https://ethereum-magicians.org/t/eip-7514-add-max-epoch-churn-limit/15709
status: 最終
type: 標準トラック
category: コア
created: 2023-09-07
---

## 概要

バリデーターの増加率を指数関数から線形増加に変更し、エポックチャーン制限に上限を設けます。

## 動機

この提案は、適切な解決策が実装される前に、総ETHサプライの高い割合がステークされることによる悪影響を軽減することを目的としています。言い換えると、この提案は報酬曲線を変更する複雑さを受け入れ、成長を遅らせることを意図しています。

預金待機列が100%満杯のままの場合、ETHサプライのステーク比率は2024年5月までに50%、2024年9月までに75%、2024年12月までに100%に達します。バリデーターセットのサイズが増加するにつれ報酬は減少しますが、ETHサプライの100%がステークされた場合でも、バリデーターの年間コンセンサス報酬(MEV/トランザクション手数料を除く)は彼らのステークの約1.6%にすぎません。この小さな収益は、しばしば遥かに高く予測不可能なMEVの収益により、追加的な資本ステーキングを阻止するものではありません。リキッド・ステーキング・トークン(LST)もこの傾向に寄与しています。

ステークされるETHの量が増加するにつれ、コンセンサス層にかかる負荷が増大します。バリデーターの数が増えるとゴシップメッセージが増加し、ビーコンステートのサイズも大きくなります。さらに、ステークの量が増えるにつれ、追加の経済的重みがもたらすセキュリティ上の限界的な利益は不明確になります。

ビーコンチェーンのバリデーター報酬関数は2020年の立ち上げ前に選択されました。PoS研究と報酬曲線設計は、MEVのない世界で行われました。それ以来、ビーコンチェーンが当初の目標を大幅に超える前例のない成功を収めるなど、多くのことが変わりました。このため、ビーコンチェーンのバリデーター報酬が一定の上限を超えた場合に抑制されるよう調整されるべきかどうかを検討する価値があります。

本EIPはこれを行うものではありませんが、コミュニティがこれらの議論を行う時間を確保することを目的としています。エポックチャーン制限を制限することで、ETHサプライの総ステーク率が重要なマイルストーンに達する時間が大幅に遅れます。これにより、より包括的な解決策の研究と、それらに関するコミュニティの合意形成のための時間が得られます。

## 仕様

### 定数

| 名称 | 値 |
| ---- | ----- |
| `MAX_PER_EPOCH_ACTIVATION_CHURN_LIMIT` | 8 |

### 実行層

実行層への変更は必要ありません。

### コンセンサス層

- `get_validator_activation_churn_limit`に上限`MAX_PER_EPOCH_ACTIVATION_CHURN_LIMIT`を追加する
- `process_registry_updates`を変更し、制限付きのアクティベーションチャーン制限を使用する

提案された変更の完全な仕様は、[`/specs/deneb/beacon-chain.md`](https://github.com/ethereum/consensus-specs/blob/69d34dc4ee3d026ca437d1b6875b218e8aaf3a5c/specs/deneb/beacon-chain.md)にあります。

## 根拠

### `MAX_PER_EPOCH_CHURN_LIMIT`の値

特定の定数を選択すると、アクティベーション・フォーク・エポックでチャーンが_減少_する可能性があります。ビーコンチェーン仕様はこれに対応できます。2023年第4四半期(Dencun活性化予定)のチャーン値は14-16の範囲になります。以下の表は、預金待機列が常に満杯であると仮定した場合の予想バリデーターセットを比較しています。

#### `MAX_PER_EPOCH_CHURN_LIMIT`の活性化日: 2023年12月1日

|   最大チャーン制限 | 50%ETHステーク   | 75%ETHステーク   | 100%ETHステーク   |
|------------------:|:-----------------|:-----------------|:------------------|
|               inf | 2024年5月28日    | 2024年9月25日    | 2024年12月18日    |
|                16 | 2024年7月23日    | 2025年4月10日    | 2025年12月26日    |
|                12 | 2024年10月9日    | 2025年9月21日    | 2026年9月4日      |
|                 8 | 2025年3月15日    | 2026年8月18日    | 2028年1月21日     |
|                 6 | 2025年8月19日    | 2027年7月14日    | 2029年6月8日      |
|                 4 | 2026年6月29日    | 2029年5月5日     | 2032年3月12日     |

#### `MAX_PER_EPOCH_CHURN_LIMIT`の活性化日: 2024年4月1日

|   最大チャーン制限 | 50%ETHステーク   | 75%ETHステーク   | 100%ETHステーク   |
|------------------:|:-----------------|:-----------------|:------------------|
|               inf | 2024年5月28日    | 2024年9月25日    | 2024年12月18日    |
|                16 | 2024年7月1日     | 2025年3月18日    | 2025年12月4日     |
|                12 | 2024年8月1日     | 2025年7月14日    | 2026年6月26日     |
|                 8 | 2024年10月1日    | 2026年3月5日     | 2027年8月8日      |
|                 6 | 2024年12月1日    | 2026年10月26日   | 2028年9月20日     |
|                 4 | 2025年4月2日     | 2028年2月7日     | 2030年12月15日    |

次のフォークが最も早くても2024年第3四半期の始まりだと仮定すると、8という値は予想サイズを大幅に減らしつつ、予想されるDencunフォーク日時点でのチャーンの大幅な減少を引き起こしません。8という値は、Dencunフォークが遅れた場合でも、少なくとも1年間は50%ETHステーク水準に達するのを防ぐことができます。

## 下位互換性

このEIPはコンセンサス層のブロック検証ルールセットに下位互換性のない変更を導入するため、ハードフォークを伴う必要があります。

## テストケース

このEIPのテストケースは、`consensus-specs`リポジトリの[`deneb`](https://github.com/ethereum/consensus-specs/tree/2297c09b7e457a13f7b2261a28cb45777be82f83/tests/core/pyspec/eth2spec/test/deneb)テストスイートにあります。

## セキュリティ上の考慮事項

このEIPは、前者が`MAX_PER_EPOCH_ACTIVATION_CHURN_LIMIT`に制限されるのに対し、後者には制限がないというバリデーターの入退場キューの対称性を破ります。

## 著作権

著作権およびその関連権利は[CC0](../LICENSE.md)で放棄されています。